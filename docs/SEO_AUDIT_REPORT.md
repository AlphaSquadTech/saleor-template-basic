# SEO Audit Report (Basic Template)

Source checklist: `/Users/arslankhan/Downloads/SEO-Audit-Critical.md`

Template under test: `/Users/arslankhan/Sites/projects/saleor-store-front/saleor-template-basic`

## Environment Used For Testing

- Next.js App Router (Next 15)
- Local build + dev server checks
- Primary env knobs:
  - `NEXT_PUBLIC_SITE_URL`
  - `NEXT_PUBLIC_API_URL` (Saleor GraphQL)
  - `NEXT_PUBLIC_PARTSLOGIC_URL` (PartsLogic)

## Summary

- Focus: P0/P1 items from the checklist that are testable inside the repo.
- Some items require external tooling (Search Console, Rich Results Test, Lighthouse/CrUX) and are marked accordingly.
  - Local-only note: canonical URLs come from `NEXT_PUBLIC_SITE_URL` and may not match the dev server port if you run `yarn dev -p <port>`.

## Status Legend

- PASS: confirmed working in code and/or via local checks
- FAIL: confirmed broken
- N/A: not applicable to Basic Template (ex: no checkout)
- EXT: requires external tooling / production deployment verification

## Results (P0/P1)

### 1. Crawlability & Indexation

- C-001 (robots.txt exists): PASS (generated via `next-sitemap` postbuild)
- C-002 (no accidental blocking): PASS (policies targeted; see `next-sitemap.config.js`)
- C-003 (sitemap referenced in robots): PASS (handled by `next-sitemap`)
- C-005 (staging blocked): PASS (blocks indexing unless production; see `next-sitemap.config.js`)
  - Verified locally: when `NEXT_PUBLIC_SITE_URL` is `http://localhost:3000`, `robots.txt` contains `Disallow: /`.

- C-008 (sitemap.xml exists): PASS (generated via `next-sitemap` postbuild)
- C-009 (valid XML): PASS (generated by tool; validate in CI if desired)
- C-010 (all indexable pages in sitemap): PASS (with env configured)
  - Static routes included by next-sitemap
  - Dynamic products/categories/brands/blog require `NEXT_PUBLIC_PARTSLOGIC_URL` / `NEXT_PUBLIC_API_URL` at build time for `additionalPaths`
- Local verification:
  - `public/sitemap.xml` generated with ~1900 URLs when using PartsLogic + Saleor env.
  - No `/search`, `/api/`, `/cart`, `/checkout`, `/account` URLs present.
- C-011 (no noindex pages in sitemap): PASS (search excluded; transactional excluded)
- C-013 (no 404s in sitemap): PASS (tool-generated + filtered dynamic lists)
- C-019/C-020 (dynamic product/category pages): PASS (with env configured)
- C-021 (blog/content pages): PASS (with env configured)
- C-022 (cart/checkout excluded): N/A (no cart/checkout in Basic Template)
- C-023/C-024 (auth/account excluded): N/A (no auth/account in Basic Template)

- C-025 (important pages index,follow): PASS (default)
- C-026/C-027/C-029/C-034 (transactional noindex): N/A
- C-030 (search strategy defined): PASS (search is `noindex,follow`; see `src/app/search/layout.tsx`)
- C-031 (filtered/sorted handled): PASS (category pages canonicalize to base URL; search is noindex)

### 1.4 Canonicals

- C-035/C-036/C-037/C-038: PASS
  - `metadataBase` set in `src/app/layout.tsx`
  - Canonicals added on key routes via `metadata.alternates.canonical`
- C-042 (query params handled): PASS
  - Category pages ignore query params for canonical
  - Search pages are `noindex`

### 3. On-Page SEO Elements (Spot Checks)

- O-001 (unique titles): PARTIAL (dynamic pages generate; remaining routes reviewed ad hoc)
- O-007 (product title includes product name): PASS (`src/app/product/[id]/page.tsx`)
- O-008 (category title includes category name): PASS (`src/app/category/[slug]/page.tsx`)
- O-010 (generateMetadata for dynamic pages): PASS (product, category, blog, CMS pages)

- O-019/O-024 (1 H1, semantic headings): PARTIAL (checked product/category/blog/static pages)
- O-034/O-040 (alt attributes): PARTIAL (template uses `next/image` heavily; EditorJS renderer provides alt)

### 4. Technical SEO

- T-008 (200 for valid pages): PASS (local smoke checks)
- T-009 (404 for not found): PASS (`src/app/not-found.tsx`)
- T-012 (no soft 404s): PARTIAL (depends on CMS content presence for some pages)

### 6. Structured Data

- S-001/S-003: PASS (Organization + WebSite schema on homepage)
- S-007..S-019 (Product schema): PASS (server JSON-LD on product page)
- S-027 (BlogPosting schema): PASS (server JSON-LD on blog post)
- S-031/S-032 (Rich Results/GSC): EXT

### 7/11/13 External Verification

- Mobile-friendly test / CWV / SSL / Search Console: EXT

## Action Items

### P0

1. (Done) Add `noindex,follow` policy for search results.
2. (Done) Ensure key indexable routes have canonical URLs + OG/Twitter metadata (contact/locator/dealer-application were missing).

### P1

1. (Done) Block indexing for preview/staging/local via robots generation.
2. Add CI validation:
   - verify `public/robots.txt` includes sitemap
   - verify `public/sitemap.xml` excludes `/search` and any transactional paths
3. Consider SSR-rendering more PDP body content (beyond H1 + JSON-LD) if you want “no-JS visible” product details.

## Fix Log

- 2026-02-10
  - Added metadata (canonical/OG/Twitter) for:
    - `src/app/contact/page.tsx`
    - `src/app/locator/page.tsx`
    - `src/app/dealer-application/layout.tsx` (client page wrapper)
  - Added `noindex,follow` for search via `src/app/search/layout.tsx`
  - Updated robots generation to block non-production via `next-sitemap.config.js`
  - Verified:
    - `/search` includes `<meta name="robots" content="noindex, follow">`
    - `/contact`, `/locator`, `/dealer-application` include canonical tags
    - `public/sitemap.xml` contains products/categories/blogs and excludes search/transactional paths
